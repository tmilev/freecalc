%begin module Building block IIIb

\begin{frame}
\frametitle{Building block IIIb: example illustrating main idea}
\begin{example}
Integrate $\int \frac{\diff x}{(x^2+1)^2}$. We start with an already known integral:
\[
\begin{array}{rcl}
\uncover<2->{\alert<12,13>{\alert<15>{\Arctan x}+C}} 
\only<1-12>{
\uncover<2->{
&=&\displaystyle \int \alert<3>{\frac{1}{x^2+1}}\diff \alert<4>{ x}}\\
\uncover<3->{&=&\displaystyle \alert<4>{ x} \alert<3>{\frac{1}{x^2+1}}-\int \alert<4>{x} \alert<5,6>{ \diff \left(\alert<3>{\frac{1}{x^2+1}}\right)} }\\
\uncover<5->{&=&\displaystyle \frac{x}{x^2+1} \alert<7>{-} \int \alert<7>{ x} \only<5>{\alert<5>{\textbf{?}}} \uncover<6->{\alert<6>{ \left( \alert<7>{-} \frac{\alert<7>{ 2x} }{ (x^2+1)^2}\right)\diff x}}}\\
\uncover<7->{&=&\displaystyle \frac{x}{x^2+1}\alert<7>{ +2} \int \frac{ \uncover<8->{\alert<8>{-\alert<10>{1}}+}\alert<9>{ \alert<7>{ x^2} \uncover<8->{\alert<8>{+1}}}}{\alert<9,10>{(x^2+1)^2}}\diff x }\\
\uncover<9->{&=&\displaystyle  \frac{x}{x^2+1}+2\alert<11>{\int \alert<9>{\frac{1}{x^2+1}} \diff x}-2\int \alert<10>{\frac{1}{(x^2+1)^2}}\diff x}\\
} %only<1-12>
\uncover<11->{ &\alert<12,13>{=}&\displaystyle \alert<12,13>{ \frac{x}{x^2+1}+ \alert<15>{2\alert<11>{\Arctan x} }\alert<14>{ -2 \int \frac{\diff x}{(1+x)^2}}} {~~~~~~~~~~~~~~~}} 
\end{array}
\]
\only<13->{
\uncover<14->{Rearrange terms \uncover<16->{and divide by $2$ to get the desired integral:}
\[
\alert<14>{\uncover<14,15>{2} \int \frac{\diff x}{(1+x^2)^2}}=\uncover<16->{\frac{1}{2}} \left(\frac{x}{x^2+1}+ \alert<15>{\Arctan x}  \right)+\uncover<14->{C'}\uncover<16->{'}\quad .
\]
}
}
\end{example}
\vspace{8cm}
\end{frame}

\begin{frame}
\frametitle{Building block IIIb}
\begin{itemize}
\item<1-> Building block IIIa: \[
\uncover<6->{\alert<6>{J(1)=}} \int \frac{1}{(x^2+1)}\diff x=\alert<6>{\arctan x+C}\quad .
\] 
\item<2-> Block IIIb:
\[
\uncover<4->{\alert<4>{J(n)=}} \alert<4>{\int \frac{1}{(x^2+1)^n}\diff x}
\] 
\item<3-> Unlike other cases, IIIb is much harder than IIIa.
\item<4-> Set $\alert<4>{J(n)=\int \frac{1}{(x^2+1)^n}\diff x}$. \uncover<5->{We are looking for a formula for $J(n)$.} \uncover<6->{We know $\alert<6>{J(1)=\arctan x+C}$ (this is block IIIa).}
\item<7-> We start by $J(n-1) =\int \frac{1}{(x^2+1)^{n-1}} \diff x$ and integrate by parts.
\item<8-> In this way we end up expressing $J(n)$ via $J(n-1)$.
\item<9-> We work our way from $J(n)$ to $J(n-1)$, from $J(n-1)$ to $J(n-2)$, and so on, until we get to $J(1)$.
\end{itemize} 
\end{frame}

\begin{frame}
\begin{example}
Recall that $\alert<11,12>{J(n)=\int \frac{1}{(x^2+1)^{n}}\diff x}$. %\uncover<3->{Set $\alert<3>{u=\frac{1}{(1+x^2)^{n-1}}}$.} 
\uncover<2->{We have that:}
\[
\begin{array}{rcl}
\uncover<2->{\alert<13,14,16>{J(n-1)}}
\only<1-13>{\uncover<2->{&\alert<13>{=} & 
\displaystyle \int \alert<3,4>{\frac{1}{(x^2+1)^{n-1 }}} \diff \alert<4>{x} } \\
\uncover<3->{&=&\displaystyle  \alert<3>{\frac{1}{(x^2+1)^{n-1}} } \alert<4>{x}-\int  \alert<4>{x} \alert<5,5>{ \diff \left(\alert<3>{ \frac{1}{ (1+x^2)^{ n-1}}}\right)}}\\
\uncover<5->{&=&\displaystyle  \frac{x}{(x^2+1)^{n-1}} \alert<7>{-} \int \alert<7>{ x}  \only<5>{\alert<5>{\textbf{?}}} \uncover<6->{\alert<6>{\frac{ \alert<7>{(-n+1) 2 x}}{ (1+x^2 )^{n}} \diff x}}} \\
\uncover<7->{ &=&\displaystyle  \frac{x}{(x^2+1)^{n-1}} \alert<7>{+ 2(n-1)} \int \frac{\uncover<8->{ \alert<8,9>{1+}} \alert<7,9>{x^2} \uncover<8->{\alert<8,10>{-1}}}{ \alert<9,10>{ (1+x^2)^n} }\diff x}\\
\uncover<9->{ &=&\displaystyle  \frac{x}{(x^2+1)^{n-1}}+ 2(n-1)\alert<11>{ \int \alert<9>{\frac{1}{(1+x^2)^{n-1}}} \diff x}} \\
\uncover<9->{&&\displaystyle \alert<10>{-} 2(n-1)\alert<12>{ \int \alert<10>{\frac{1}{(1+x^2)^n}}\diff x} }\\
} %only<1-13>
\uncover<11->{&\alert<13,14>{=}&\displaystyle \alert<13,14>{ \frac{x}{(x^2+1)^{n-1}}+\alert<16>{ 2(n-1)\alert<11>{ J(n-1)}}  \alert<15>{ -2(n-1)\alert<12>{J(n)}}}\quad .}
\end{array}
\]

\only<14->{
\uncover<15->{
Rearrange to get:
\[
\begin{array}{rcl}
\alert<15>{ \alert<17>{2(n-1)}J(n) } &=& \displaystyle \frac{x}{(x^2+1)^{n-1}}+\alert<16>{(2n-3) J(n-1)} \\
\uncover<17->{ \alert<19,20,21>{J(n)}&\alert<19,20,21>{=}&\displaystyle \alert<19,20,21>{ \frac{x}{ \alert<17>{(2n-2)} (x^2+ 1)^{ n-1}}+ \frac{2n-3}{\alert<17>{ 2n-2}}J(n-1)} \quad .}
\end{array}
\]

\uncover<18->{In this way we expressed $J(n)$ using $J(n-1)$.} \uncover<19->{We apply the above formula consecutively:

$
\alert<19>{ J(n)=  \frac{x}{ (2n-2) (x^2+ 1)^{ n-1}}+   \frac{2n-3}{ 2n-2}\only<19,20>{\alert<20>{J(n-1)}  \phantom{\left(\frac{x}{(2n-4)(x^2+1)^{n-2}}\right)} 
}} \only<21->{\alert<21>{\left(\frac{x}{(2n-4)(x^2+1)^{n-2}}+\frac{2n-5 }{2n-4} \alert<22,23>{ J(n-2)} \right)}}  \uncover<22->{\alert<22>{=\dots}}
$
}

\noindent \uncover<22->{\alert<22>{and so on.}} \uncover<23->{A formula for the final result can be written using the above (found in Calculus for beginners, Chapter ``Techniques of integration'').}

}
}
\end{example}


\vspace{8cm}
\end{frame}
%end module Building block IIIb