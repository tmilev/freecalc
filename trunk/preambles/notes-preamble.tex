%%%%%%%%%%%%%%%%%%%
%% 	Packages

\usepackage[utf8]{inputenc}
\DeclareFixedFont{\ttb}{T1}{txtt}{bx}{n}{9} % for bold
\DeclareFixedFont{\ttm}{T1}{txtt}{m}{n}{9}  % for normal
% Defining colors
\usepackage{color}
\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}

\usepackage{listings}

%Python style from 
%http://tex.stackexchange.com/questions/199375/problem-with-listings-package-for-python-syntax-coloring
\newcommand\pythonstyle{\lstset{
  language=Python,
  backgroundcolor=\color{white}, %%%%%%%
  basicstyle=\ttm,
  keywordstyle=\ttb\color{deepblue},
  emph={MyClass,__init__},          
  emphstyle=\ttb\color{deepred},    
  stringstyle=\color{deepgreen},
  commentstyle=\color{red},  %%%%%%%%
  frame=tb,                       
  showstringspaces=false,
  numbers=left,numberstyle=\tiny,numbersep =5pt
}}


% import is used for nested input commands
\usepackage{import}


% mathtools used for pairs of delimitators
\usepackage{mathtools}

\DeclarePairedDelimiter{\inner}{\langle}{\rangle}
\DeclarePairedDelimiter{\dst}{|}{|}
\DeclarePairedDelimiter{\nrm}{\|}{\|}


% bropd used for simplified brackets and differentials
% http://www.ctan.org/pkg/bropd
\usepackage{bropd}

% amscd needed for commutative diagrams
\usepackage{amscd}

% amssymb needed for special ams symbols, such as \leqslant
\usepackage{amssymb}

% bm needed for bold Greek letters
\usepackage{bm} 

% graphicx needed for inclusion of files as pictures
\usepackage{graphicx}

% epstopdf converts eps files to pdf files 
\usepackage{epstopdf}

% color needed for including colored text
\usepackage{color}

% comment needed for large commented blocks in the .tex source
\usepackage{comment}

% epsfig needed for 
\usepackage{epsfig}

% psfrag needed for including latex labels on eps files created with xfig
\usepackage{psfrag}

% hyperref needed for hyperlinked references
\usepackage{hyperref}

% float is used to force figures to appear where we want them
\usepackage{float}

% enumitem is used to customize lists
\usepackage{enumitem}

% tikz is used for drawing pictures
\usepackage{tikz}
\usepackage{tikz-3dplot}

% algorithm2e for display of algorithms
\usepackage[linesnumbered]{algorithm2e}

% kbordermatrix used for bordered matrices
\usepackage{kbordermatrix}
%%%%%%%%%%%%%%%%%%%%%%%%%
%%	 Environments

\theoremstyle{definition}
\newtheorem{defn}{Definition}
\newtheorem*{defn*}{Definition}


\newtheorem{thm}{Theorem}
\newtheorem*{thm*}{Theorem}
\newtheorem{prop}{Proposition}

\newtheorem*{stokes}{Stokes' Theorem}
\newtheorem*{green}{Green's Theorem}
\newtheorem*{diverg}{Divergence Theorem}

\theoremstyle{remark}
\newtheorem{exmp}{Example}
\newtheorem*{exmp*}{Example}

\newtheorem{rmk}{Remark}
\newtheorem*{rmk*}{Remark}

\newtheorem{prblm}{Problem}
%\newtheorem{prop}{Proposition}

%%%%%%%%%%%%%%%%%%%%%%%%%
%% Shortcuts for special notation

\newcommand{\RR}{{\mathbb{R}}}
\newcommand{\R}{{\mathbb{R}}}
\newcommand{\N}{{\mathbb{N}}}
\newcommand{\cR}{{\mathcal{R}}}
\newcommand{\cD}{{\mathcal{D}}}
\newcommand{\cP}{{\mathcal{P}}}
\newcommand{\cM}{{\mathcal{M}}}
\newcommand{\U}{{\mathcal{U}}}
\newcommand{\V}{{\mathcal{V}}}
\newcommand{\B}{{\mathcal{B}}}
\newcommand{\E}{{\mathcal{E}}}

\newcommand{\bv}[1]{{\bf #1}}
\newcommand{\orthuv}[2]{{\orth_{\bv{#2}} {\bv #1}}}
\newcommand{\projuv}[2]{{\proj_{\bv{#2}} {\bv #1}}}

\newcommand{\len}[1]{\| #1 \|}
\newcommand{\ip}[1]{\inner{#1}}
\newcommand{\vect}[1]{\langle #1 \rangle}
\newcommand{\vct}[1]{\inner{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%
% New MathOperators 
\DeclareMathOperator{\curl}{\bm{curl}}
\DeclareMathOperator{\divg}{div}
\DeclareMathOperator{\proj}{\textbf{proj}}
\DeclareMathOperator{\orth}{\textbf{orth}}
\DeclareMathOperator{\grad}{\bm{grad}}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\nul}{nullity}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\rref}{rref}
\DeclareMathOperator{\nref}{ref}
\DeclareMathOperator{\vspan}{span}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\tr}{trace}
\DeclareMathOperator{\col}{col}
\DeclareMathOperator{\row}{row}
\DeclareMathOperator{\colsp}{ColSp}
\DeclareMathOperator{\rowsp}{RowSp}
\DeclareMathOperator{\nullsp}{NullSp}


% to emphasize new term and include it in the margin as well
%\newcommand{\margdef}[1]{\emph{#1}\marginpar{\emph{#1}}}
%\newcommand{\margdef}[3]{{\em #1}\renewcommand{\baselinestretch}{0.5}\marginpar{\em {\small #2}} \renewcommand{\baselinestretch}{1}\index{#3}}
\newcommand{\margdef}[3]{{\em #1}\marginpar{\em #2}\index{#3}}

\numberwithin{equation}{chapter}
\numberwithin{exmp}{chapter}
\numberwithin{defn}{section}
\numberwithin{section}{chapter}
\numberwithin{rmk}{chapter}
\numberwithin{figure}{section}
\numberwithin{thm}{section}
\numberwithin{prop}{section}

% to list and number subsections in table of content
\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{2}

% to increase indentation of subsections and include dots to page numbers
% from http://tex.stackexchange.com/questions/51760/table-of-contents-with-indents-and-dots

\makeatletter
\def\@tocline#1#2#3#4#5#6#7{\relax
  \ifnum #1>\c@tocdepth % then omit
  \else
    \par \addpenalty\@secpenalty\addvspace{#2}%
    \begingroup \hyphenpenalty\@M
    \@ifempty{#4}{%
      \@tempdima\csname r@tocindent\number#1\endcsname\relax
    }{%
      \@tempdima#4\relax
    }%
    \parindent\z@ \leftskip#3\relax \advance\leftskip\@tempdima\relax
    \rightskip\@pnumwidth plus4em \parfillskip-\@pnumwidth
    #5\leavevmode\hskip-\@tempdima
      \ifcase #1
       \or\or \hskip 1em \or \hskip 2em \else \hskip 3em \fi%
      #6\nobreak\relax
    \dotfill\hbox to\@pnumwidth{\@tocpagenum{#7}}\par
    \nobreak
    \endgroup
  \fi}
\makeatother

% % % % % % % % % % % % %
% matrices
%
\makeatletter
\renewcommand*\env@matrix[1][c]{\hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{*\c@MaxMatrixCols #1}}
\makeatother

\newcommand{\bmt}[1]{%
\begin{bmatrix}
#1
\end{bmatrix}
}

\newcommand{\bmtr}[1]{%
\begin{bmatrix}[r]
#1
\end{bmatrix}
}

%%%%%%%%%%%%
%
% functions
%
\newcommand{\fcn}[3]{%
#1\colon #2 \to #3
}
